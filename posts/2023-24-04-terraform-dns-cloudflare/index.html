<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Terraform DNS Cloudflare | DOVH</title>
<meta name=keywords content="terraform,cloudfare,dns"><meta name=description content="Terraform DNS Cloudflare Terraform automates Cloudflare DNS record creation and management, saving time and reducing errors for large domains.
A custom module is used to create records for the &ldquo;example.com&rdquo; domain. The zone ID is retrieved via the &ldquo;cloudflare_zone&rdquo; data source and passed to the module along with the records to create. Records are organized by type (A, CNAME, MX, and TXT) and created as separate resources with the appropriate parameters."><meta name=author content="Me"><link rel=canonical href=https://dovh.io/posts/2023-24-04-terraform-dns-cloudflare/><link crossorigin=anonymous href=/assets/css/stylesheet.9c67fff2a092636047fc3bb215e2216a77a3f092725cf5e0c0d25b8aa328f3b5.css integrity="sha256-nGf/8qCSY2BH/DuyFeIhanej8JJyXPXgwNJbiqMo87U=" rel="preload stylesheet" as=style><link rel=icon href=https://dovh.io/img/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://dovh.io/img/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://dovh.io/img/favicon.ico><link rel=apple-touch-icon href=https://dovh.io/img/favicon.ico><link rel=mask-icon href=https://dovh.io/img/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Terraform DNS Cloudflare"><meta property="og:description" content="Terraform DNS Cloudflare Terraform automates Cloudflare DNS record creation and management, saving time and reducing errors for large domains.
A custom module is used to create records for the &ldquo;example.com&rdquo; domain. The zone ID is retrieved via the &ldquo;cloudflare_zone&rdquo; data source and passed to the module along with the records to create. Records are organized by type (A, CNAME, MX, and TXT) and created as separate resources with the appropriate parameters."><meta property="og:type" content="article"><meta property="og:url" content="https://dovh.io/posts/2023-24-04-terraform-dns-cloudflare/"><meta property="og:image" content="https://dovh.io/posts/images/cf-dns-terraform.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-04-24T09:00:00+00:00"><meta property="article:modified_time" content="2023-04-24T09:00:00+00:00"><meta property="og:site_name" content="DOVH"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://dovh.io/posts/images/cf-dns-terraform.png"><meta name=twitter:title content="Terraform DNS Cloudflare"><meta name=twitter:description content="Terraform DNS Cloudflare Terraform automates Cloudflare DNS record creation and management, saving time and reducing errors for large domains.
A custom module is used to create records for the &ldquo;example.com&rdquo; domain. The zone ID is retrieved via the &ldquo;cloudflare_zone&rdquo; data source and passed to the module along with the records to create. Records are organized by type (A, CNAME, MX, and TXT) and created as separate resources with the appropriate parameters."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://dovh.io/posts/"},{"@type":"ListItem","position":3,"name":"Terraform DNS Cloudflare","item":"https://dovh.io/posts/2023-24-04-terraform-dns-cloudflare/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Terraform DNS Cloudflare","name":"Terraform DNS Cloudflare","description":"Terraform DNS Cloudflare Terraform automates Cloudflare DNS record creation and management, saving time and reducing errors for large domains.\nA custom module is used to create records for the \u0026ldquo;example.com\u0026rdquo; domain. The zone ID is retrieved via the \u0026ldquo;cloudflare_zone\u0026rdquo; data source and passed to the module along with the records to create. Records are organized by type (A, CNAME, MX, and TXT) and created as separate resources with the appropriate parameters.","keywords":["terraform","cloudfare","dns"],"articleBody":"Terraform DNS Cloudflare Terraform automates Cloudflare DNS record creation and management, saving time and reducing errors for large domains.\nA custom module is used to create records for the “example.com” domain. The zone ID is retrieved via the “cloudflare_zone” data source and passed to the module along with the records to create. Records are organized by type (A, CNAME, MX, and TXT) and created as separate resources with the appropriate parameters. Terraform also provides version control for DNS records and easy rollback capability. Overall, Terraform and Cloudflare together offer a powerful, scalable solution for managing DNS records as code.\nTerraform Cloudflare DNS Records Module The module is used to create DNS records for a given domain. The zone ID is passed to the module and used to create the records. main.tf file.\nresource \"cloudflare_record\" \"A\" { zone_id = var.zone_id for_each = var.records_A type = \"A\" name = split(\"--\", each.key)[0] value = each.value[0] proxied = each.value[1] ttl = 1 } resource \"cloudflare_record\" \"CNAME\" { zone_id = var.zone_id for_each = var.records_CNAME type = \"CNAME\" name = split(\"--\", each.key)[0] value = each.value[0] proxied = each.value[1] ttl = 1 } resource \"cloudflare_record\" \"TXT\" { zone_id = var.zone_id for_each = var.records_TXT type = \"TXT\" name = split(\"--\", each.key)[0] value = each.value[0] ttl = 1 proxied = false } resource \"cloudflare_record\" \"MX\" { zone_id = var.zone_id for_each = var.records_MX type = \"MX\" name = split(\"--\", each.key)[0] value = each.value[0] priority = each.value[1] ttl = 1 proxied = false } The reason why we use split is because we want to be able to create multiple records with the same name but different types. For example, we want to create an MX record for example.com and second MX record for example.com. If we didn’t use split, the second record would overwrite the first one. We then add this unique identifier to the end of the name in the cloudflare_records_example_com module.\nYou also need to create a variables.tf file to define the variables used in the module.\nvariable \"zone_id\" { description = \"The zone ID of the domain\" type = string } variable \"records_A\" { description = \"A records to create\" type = map(list(string)) default = {} } variable \"records_CNAME\" { description = \"CNAME records to create\" type = map(list(string)) default = {} } variable \"records_TXT\" { description = \"TXT records to create\" type = map(list(string)) default = {} } variable \"records_MX\" { description = \"MX records to create\" type = map(list(string)) default = {} } The module is then called from the cf-records.tf file in your terraform configuration folder.\n# First, we define the data source to retrieve the zone ID for the domain. data \"cloudflare_zone\" \"example_com\" { name = \"example.com\" } # Next, we create a custom module to manage our DNS records. module \"cloudflare_records_example_com\" { source = \"../modules/cloudflare-records\" zone_id = data.cloudflare_zone.example_com.id # Define our DNS records by type (A, CNAME, MX, TXT). records_A = { \"example.com--0\" = [null, true] } records_CNAME = { \"example.com\" = [\"example.com\", true] \"www\" = [\"example.com\", true] } records_MX = { \"example.com--0\" = [\"mx1.example.com\", 10], \"example.com--1\" = [\"mx2.example.com\", 20], } records_TXT = { \"example.com--0\" = [\"example-text-record\"], } } ","wordCount":"517","inLanguage":"en","image":"https://dovh.io/posts/images/cf-dns-terraform.png","datePublished":"2023-04-24T09:00:00Z","dateModified":"2023-04-24T09:00:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://dovh.io/posts/2023-24-04-terraform-dns-cloudflare/"},"publisher":{"@type":"Organization","name":"DOVH","logo":{"@type":"ImageObject","url":"https://dovh.io/img/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://dovh.io accesskey=h title="DOVH (Alt + H)"><img src=https://dovh.io/img/logo.png alt aria-label=logo height=40>DOVH</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://dovh.io/ title=Home><span>Home</span></a></li><li><a href=https://dovh.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://dovh.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://dovh.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://dovh.io/about/ title=About><span>About</span></a></li><li><a href=https://u24.gov.ua/ title="Help Ukraine"><span>Help Ukraine</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://dovh.io>Home</a>&nbsp;»&nbsp;<a href=https://dovh.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Terraform DNS Cloudflare</h1><div class=post-meta><span title='2023-04-24 09:00:00 +0000 UTC'>April 24, 2023</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;517 words&nbsp;·&nbsp;Me</div></header><div class=post-content><h1 id=terraform-dns-cloudflare>Terraform DNS Cloudflare<a hidden class=anchor aria-hidden=true href=#terraform-dns-cloudflare>#</a></h1><p>Terraform automates Cloudflare DNS record creation and management, saving time and reducing errors for large domains.</p><p>A custom module is used to create records for the &ldquo;example.com&rdquo; domain. The zone ID is retrieved via the &ldquo;cloudflare_zone&rdquo; data source and passed to the module along with the records to create.
Records are organized by type (A, CNAME, MX, and TXT) and created as separate resources with the appropriate parameters.
Terraform also provides version control for DNS records and easy rollback capability. Overall, Terraform and Cloudflare together offer a powerful, scalable solution for managing DNS records as code.</p><h2 id=terraform-cloudflare-dns-records-module>Terraform Cloudflare DNS Records Module<a hidden class=anchor aria-hidden=true href=#terraform-cloudflare-dns-records-module>#</a></h2><p>The module is used to create DNS records for a given domain. The zone ID is passed to the module and used to create the records.
<code>main.tf</code> file.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>resource <span class=s2>&#34;cloudflare_record&#34;</span> <span class=s2>&#34;A&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>zone_id</span>  <span class=o>=</span> var.zone_id
</span></span><span class=line><span class=cl>  <span class=nv>for_each</span> <span class=o>=</span> var.records_A
</span></span><span class=line><span class=cl>  <span class=nb>type</span>     <span class=o>=</span> <span class=s2>&#34;A&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nv>name</span>     <span class=o>=</span> split<span class=o>(</span><span class=s2>&#34;--&#34;</span>, each.key<span class=o>)[</span>0<span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=nv>value</span>    <span class=o>=</span> each.value<span class=o>[</span>0<span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=nv>proxied</span>  <span class=o>=</span> each.value<span class=o>[</span>1<span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=nv>ttl</span>      <span class=o>=</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>resource <span class=s2>&#34;cloudflare_record&#34;</span> <span class=s2>&#34;CNAME&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>zone_id</span>  <span class=o>=</span> var.zone_id
</span></span><span class=line><span class=cl>  <span class=nv>for_each</span> <span class=o>=</span> var.records_CNAME
</span></span><span class=line><span class=cl>  <span class=nb>type</span>     <span class=o>=</span> <span class=s2>&#34;CNAME&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nv>name</span>     <span class=o>=</span> split<span class=o>(</span><span class=s2>&#34;--&#34;</span>, each.key<span class=o>)[</span>0<span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=nv>value</span>    <span class=o>=</span> each.value<span class=o>[</span>0<span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=nv>proxied</span>  <span class=o>=</span> each.value<span class=o>[</span>1<span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=nv>ttl</span>      <span class=o>=</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>resource <span class=s2>&#34;cloudflare_record&#34;</span> <span class=s2>&#34;TXT&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>zone_id</span>  <span class=o>=</span> var.zone_id
</span></span><span class=line><span class=cl>  <span class=nv>for_each</span> <span class=o>=</span> var.records_TXT
</span></span><span class=line><span class=cl>  <span class=nb>type</span>     <span class=o>=</span> <span class=s2>&#34;TXT&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nv>name</span>     <span class=o>=</span> split<span class=o>(</span><span class=s2>&#34;--&#34;</span>, each.key<span class=o>)[</span>0<span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=nv>value</span>    <span class=o>=</span> each.value<span class=o>[</span>0<span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=nv>ttl</span>      <span class=o>=</span> <span class=m>1</span>
</span></span><span class=line><span class=cl>  <span class=nv>proxied</span>  <span class=o>=</span> <span class=nb>false</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>resource <span class=s2>&#34;cloudflare_record&#34;</span> <span class=s2>&#34;MX&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>zone_id</span>  <span class=o>=</span> var.zone_id
</span></span><span class=line><span class=cl>  <span class=nv>for_each</span> <span class=o>=</span> var.records_MX
</span></span><span class=line><span class=cl>  <span class=nb>type</span>     <span class=o>=</span> <span class=s2>&#34;MX&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nv>name</span>     <span class=o>=</span> split<span class=o>(</span><span class=s2>&#34;--&#34;</span>, each.key<span class=o>)[</span>0<span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=nv>value</span>    <span class=o>=</span> each.value<span class=o>[</span>0<span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=nv>priority</span> <span class=o>=</span> each.value<span class=o>[</span>1<span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=nv>ttl</span>      <span class=o>=</span> <span class=m>1</span>
</span></span><span class=line><span class=cl>  <span class=nv>proxied</span>  <span class=o>=</span> <span class=nb>false</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>The reason why we use split is because we want to be able to create multiple records with the same name but different types. For example, we want to create an MX record for <code>example.com</code> and second MX record for <code>example.com</code>. If we didn&rsquo;t use split, the second record would overwrite the first one. We then add this unique identifier to the end of the name in the cloudflare_records_example_com module.</p><p>You also need to create a <code>variables.tf</code> file to define the variables used in the module.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>variable <span class=s2>&#34;zone_id&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>description</span> <span class=o>=</span> <span class=s2>&#34;The zone ID of the domain&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nb>type</span>        <span class=o>=</span> string
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>variable <span class=s2>&#34;records_A&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>description</span> <span class=o>=</span> <span class=s2>&#34;A records to create&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nb>type</span>        <span class=o>=</span> map<span class=o>(</span>list<span class=o>(</span>string<span class=o>))</span>
</span></span><span class=line><span class=cl>  <span class=nv>default</span>     <span class=o>=</span> <span class=o>{}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>variable <span class=s2>&#34;records_CNAME&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>description</span> <span class=o>=</span> <span class=s2>&#34;CNAME records to create&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nb>type</span>        <span class=o>=</span> map<span class=o>(</span>list<span class=o>(</span>string<span class=o>))</span>
</span></span><span class=line><span class=cl>  <span class=nv>default</span>     <span class=o>=</span> <span class=o>{}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>variable <span class=s2>&#34;records_TXT&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>description</span> <span class=o>=</span> <span class=s2>&#34;TXT records to create&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nb>type</span>        <span class=o>=</span> map<span class=o>(</span>list<span class=o>(</span>string<span class=o>))</span>
</span></span><span class=line><span class=cl>  <span class=nv>default</span>     <span class=o>=</span> <span class=o>{}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>variable <span class=s2>&#34;records_MX&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>description</span> <span class=o>=</span> <span class=s2>&#34;MX records to create&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nb>type</span>        <span class=o>=</span> map<span class=o>(</span>list<span class=o>(</span>string<span class=o>))</span>
</span></span><span class=line><span class=cl>  <span class=nv>default</span>     <span class=o>=</span> <span class=o>{}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>The module is then called from the <code>cf-records.tf</code> file in your terraform configuration folder.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># First, we define the data source to retrieve the zone ID for the domain.</span>
</span></span><span class=line><span class=cl>data <span class=s2>&#34;cloudflare_zone&#34;</span> <span class=s2>&#34;example_com&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>name</span> <span class=o>=</span> <span class=s2>&#34;example.com&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Next, we create a custom module to manage our DNS records.</span>
</span></span><span class=line><span class=cl>module <span class=s2>&#34;cloudflare_records_example_com&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nb>source</span>  <span class=o>=</span> <span class=s2>&#34;../modules/cloudflare-records&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nv>zone_id</span> <span class=o>=</span> data.cloudflare_zone.example_com.id
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1># Define our DNS records by type (A, CNAME, MX, TXT).</span>
</span></span><span class=line><span class=cl>  <span class=nv>records_A</span> <span class=o>=</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;example.com--0&#34;</span> <span class=o>=</span> <span class=o>[</span>null, true<span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=nv>records_CNAME</span> <span class=o>=</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;example.com&#34;</span> <span class=o>=</span> <span class=o>[</span><span class=s2>&#34;example.com&#34;</span>, true<span class=o>]</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;www&#34;</span>         <span class=o>=</span> <span class=o>[</span><span class=s2>&#34;example.com&#34;</span>, true<span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=nv>records_MX</span> <span class=o>=</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;example.com--0&#34;</span> <span class=o>=</span> <span class=o>[</span><span class=s2>&#34;mx1.example.com&#34;</span>, 10<span class=o>]</span>,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;example.com--1&#34;</span> <span class=o>=</span> <span class=o>[</span><span class=s2>&#34;mx2.example.com&#34;</span>, 20<span class=o>]</span>,
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=nv>records_TXT</span> <span class=o>=</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;example.com--0&#34;</span> <span class=o>=</span> <span class=o>[</span><span class=s2>&#34;example-text-record&#34;</span><span class=o>]</span>,
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://dovh.io/tags/terraform/>terraform</a></li><li><a href=https://dovh.io/tags/dns/>dns</a></li><li><a href=https://dovh.io/tags/cloudfare/>cloudfare</a></li></ul><nav class=paginav><a class=next href=https://dovh.io/posts/2022-05-26-docker-with-buildx/><span class=title>Next »</span><br><span>Docker image with buildx inside</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://dovh.io>DOVH</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>